---
import Layout from '../../../layouts/Layout.astro';
import CodeExample from '../../../components/CodeExample.tsx';
import { ui } from '../../../i18n/ui';

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'zh' } }
  ];
}

const { lang } = Astro.params;
const t = ui[lang as keyof typeof ui];
---

<Layout title={lang === 'zh' ? "ç»„åˆæ•°å­¦ - ä¸–ç•Œçº§ç®—æ³•" : "Combinatorics - World Class Algorithms"}>
  <div class="container">
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <a href={`/${lang}`}>{t['nav.home']}</a> &gt; 
      <a href={`/${lang}/6-world-class`}>{lang === 'zh' ? 'ä¸–ç•Œçº§ç®—æ³•' : 'World Class'}</a> &gt; 
      <span>{lang === 'zh' ? 'ç»„åˆæ•°å­¦' : 'Combinatorics'}</span>
    </nav>

    <!-- Header -->
    <div class="header-section">
      <h1 class="main-title">
        {lang === 'zh' ? 'ç»„åˆæ•°å­¦' : 'Combinatorics'}
      </h1>
      <p class="subtitle">
        {lang === 'zh' 
          ? 'æŒæ¡é«˜çº§ç»„åˆæ•°å­¦æŠ€å·§ï¼Œè§£å†³å¤æ‚è®¡æ•°é—®é¢˜'
          : 'Master advanced combinatorial techniques for complex counting problems'
        }
      </p>
    </div>

    <!-- Overview -->
    <div class="overview-section">
      <h2>{lang === 'zh' ? 'æ¦‚è¿°' : 'Overview'}</h2>
      <p>
        {lang === 'zh' 
          ? 'ç»„åˆæ•°å­¦æ˜¯ç®—æ³•ç«èµ›ä¸­çš„æ ¸å¿ƒæ•°å­¦åˆ†æ”¯ï¼Œæ¶‰åŠè®¡æ•°ã€æ’åˆ—ã€ç»„åˆç­‰é—®é¢˜ã€‚æœ¬ç« èŠ‚æ·±å…¥æ¢è®¨å®¹æ–¥åŸç†ã€å¡å¡”å…°æ•°ã€ç”Ÿæˆå‡½æ•°ç­‰é«˜çº§æŠ€å·§ï¼Œä¸ºè§£å†³ä¸–ç•Œçº§ç«èµ›ä¸­çš„å¤æ‚ç»„åˆé—®é¢˜å¥ å®šåŸºç¡€ã€‚'
          : 'Combinatorics is a core mathematical branch in competitive programming, involving counting, permutations, and combinations. This chapter explores advanced techniques like inclusion-exclusion principle, Catalan numbers, and generating functions to solve complex combinatorial problems in world-class competitions.'
        }
      </p>
    </div>

    <!-- Content Sections -->
    <div class="content-section">
      <h2>{lang === 'zh' ? 'æ ¸å¿ƒå†…å®¹' : 'Core Content'}</h2>

      <!-- Inclusion-Exclusion Principle -->
      <div class="topic-section">
        <h3>{lang === 'zh' ? '1. å®¹æ–¥åŸç†' : '1. Inclusion-Exclusion Principle'}</h3>
        <p>
          {lang === 'zh' 
            ? 'å®¹æ–¥åŸç†æ˜¯è§£å†³å¤æ‚è®¡æ•°é—®é¢˜çš„å¼ºå¤§å·¥å…·ï¼Œé€šè¿‡åŠ å‡äº¤æ›¿è®¡ç®—é›†åˆçš„å¹¶é›†å¤§å°ã€‚'
            : 'The inclusion-exclusion principle is a powerful tool for complex counting problems, calculating the size of unions through alternating addition and subtraction.'
          }
        </p>

        <h4>{lang === 'zh' ? 'åŸºæœ¬åŸç†' : 'Basic Principle'}</h4>
        <CodeExample
          client:load
          code={`${lang === 'zh' ? '// å®¹æ–¥åŸç†ï¼šè®¡ç®—å¤šä¸ªé›†åˆçš„å¹¶é›†å¤§å°' : '// Inclusion-Exclusion: Calculate size of union of multiple sets'}
${lang === 'zh' ? '// |A âˆª B âˆª C| = |A| + |B| + |C| - |A âˆ© B| - |A âˆ© C| - |B âˆ© C| + |A âˆ© B âˆ© C|' : '// |A âˆª B âˆª C| = |A| + |B| + |C| - |A âˆ© B| - |A âˆ© C| - |B âˆ© C| + |A âˆ© B âˆ© C|'}

#include <iostream>
#include <vector>
#include <cmath>
using namespace std;

${lang === 'zh' ? '// è®¡ç®—èƒ½è¢«æŸäº›æ•°æ•´é™¤çš„æ•°çš„ä¸ªæ•°ï¼ˆ1åˆ°nï¼‰' : '// Count numbers divisible by certain numbers (1 to n)'}
long long inclusionExclusion(long long n, vector<int>& divisors) {
    int m = divisors.size();
    long long result = 0;
    
    ${lang === 'zh' ? '// æšä¸¾æ‰€æœ‰å­é›†' : '// Enumerate all subsets'}
    for (int mask = 1; mask < (1 << m); mask++) {
        long long lcm = 1;
        int bits = 0;
        
        ${lang === 'zh' ? '// è®¡ç®—å½“å‰å­é›†çš„LCM' : '// Calculate LCM of current subset'}
        for (int i = 0; i < m; i++) {
            if (mask & (1 << i)) {
                lcm = lcm / __gcd(lcm, (long long)divisors[i]) * divisors[i];
                bits++;
                if (lcm > n) break; ${lang === 'zh' ? '// ä¼˜åŒ–ï¼šLCMè¿‡å¤§ç›´æ¥è·³å‡º' : '// Optimization: break if LCM too large'}
            }
        }
        
        ${lang === 'zh' ? '// æ ¹æ®å­é›†å¤§å°å†³å®šåŠ å‡' : '// Add or subtract based on subset size'}
        if (bits % 2 == 1) {
            result += n / lcm;
        } else {
            result -= n / lcm;
        }
    }
    
    return result;
}

int main() {
    long long n = 100;
    vector<int> divisors = {2, 3, 5};
    
    ${lang === 'zh' ? '// è®¡ç®—1åˆ°100ä¸­èƒ½è¢«2ã€3æˆ–5æ•´é™¤çš„æ•°çš„ä¸ªæ•°' : '// Count numbers from 1 to 100 divisible by 2, 3, or 5'}
    cout << inclusionExclusion(n, divisors) << endl;
    
    return 0;
}`}
          language="cpp"
        />

        <h4>{lang === 'zh' ? 'é«˜çº§åº”ç”¨ï¼šé”™ä½æ’åˆ—' : 'Advanced Application: Derangements'}</h4>
        <CodeExample
          client:load
          code={`${lang === 'zh' ? '// é”™ä½æ’åˆ—ï¼šè®¡ç®—nä¸ªå…ƒç´ çš„å®Œå…¨é”™ä½æ’åˆ—æ•°' : '// Derangements: Calculate number of complete derangements of n elements'}
#include <iostream>
#include <vector>
using namespace std;

${lang === 'zh' ? '// ä½¿ç”¨å®¹æ–¥åŸç†è®¡ç®—é”™ä½æ’åˆ—' : '// Calculate derangements using inclusion-exclusion'}
long long derangements(int n) {
    if (n == 0) return 1;
    if (n == 1) return 0;
    
    ${lang === 'zh' ? '// D(n) = n! * Î£(k=0 to n) (-1)^k / k!' : '// D(n) = n! * Î£(k=0 to n) (-1)^k / k!'}
    long long factorial = 1;
    for (int i = 1; i <= n; i++) {
        factorial *= i;
    }
    
    double sum = 0;
    long long fact = 1;
    for (int k = 0; k <= n; k++) {
        if (k > 0) fact *= k;
        sum += (k % 2 == 0 ? 1.0 : -1.0) / fact;
    }
    
    return (long long)(factorial * sum + 0.5);
}

${lang === 'zh' ? '// é€’æ¨å…¬å¼è®¡ç®—é”™ä½æ’åˆ—ï¼ˆæ›´é«˜æ•ˆï¼‰' : '// Calculate derangements using recurrence (more efficient)'}
long long derangementsDP(int n) {
    if (n == 0) return 1;
    if (n == 1) return 0;
    
    vector<long long> dp(n + 1);
    dp[0] = 1;
    dp[1] = 0;
    
    for (int i = 2; i <= n; i++) {
        ${lang === 'zh' ? '// D(n) = (n-1) * (D(n-1) + D(n-2))' : '// D(n) = (n-1) * (D(n-1) + D(n-2))'}
        dp[i] = (long long)(i - 1) * (dp[i - 1] + dp[i - 2]);
    }
    
    return dp[n];
}

int main() {
    for (int n = 0; n <= 10; n++) {
        cout << "D(" << n << ") = " << derangementsDP(n) << endl;
    }
    return 0;
}`}
          language="cpp"
        />
      </div>

      <!-- Catalan Numbers -->
      <div class="topic-section">
        <h3>{lang === 'zh' ? '2. å¡å¡”å…°æ•°' : '2. Catalan Numbers'}</h3>
        <p>
          {lang === 'zh' 
            ? 'å¡å¡”å…°æ•°åœ¨ç»„åˆæ•°å­¦ä¸­æœ‰ç€å¹¿æ³›åº”ç”¨ï¼Œä»æ‹¬å·åŒ¹é…åˆ°äºŒå‰æ ‘è®¡æ•°ï¼Œæ˜¯è§£å†³é€’å½’ç»“æ„é—®é¢˜çš„å…³é”®ã€‚'
            : 'Catalan numbers have wide applications in combinatorics, from parentheses matching to binary tree counting, key for solving recursive structure problems.'
          }
        </p>

        <CodeExample
          client:load
          code={`${lang === 'zh' ? '// å¡å¡”å…°æ•°çš„å¤šç§è®¡ç®—æ–¹æ³•' : '// Multiple methods to calculate Catalan numbers'}
#include <iostream>
#include <vector>
using namespace std;

${lang === 'zh' ? '// æ–¹æ³•1ï¼šé€’æ¨å…¬å¼ C(n) = Î£(i=0 to n-1) C(i) * C(n-1-i)' : '// Method 1: Recurrence C(n) = Î£(i=0 to n-1) C(i) * C(n-1-i)'}
long long catalanDP(int n) {
    vector<long long> catalan(n + 1, 0);
    catalan[0] = catalan[1] = 1;
    
    for (int i = 2; i <= n; i++) {
        for (int j = 0; j < i; j++) {
            catalan[i] += catalan[j] * catalan[i - 1 - j];
        }
    }
    
    return catalan[n];
}

${lang === 'zh' ? '// æ–¹æ³•2ï¼šç»„åˆæ•°å…¬å¼ C(n) = C(2n, n) / (n + 1)' : '// Method 2: Combinatorial formula C(n) = C(2n, n) / (n + 1)'}
long long catalanCombination(int n) {
    ${lang === 'zh' ? '// è®¡ç®—ç»„åˆæ•° C(2n, n)' : '// Calculate combination C(2n, n)'}
    long long result = 1;
    for (int i = 0; i < n; i++) {
        result = result * (2 * n - i) / (i + 1);
    }
    return result / (n + 1);
}

${lang === 'zh' ? '// åº”ç”¨1ï¼šæœ‰æ•ˆæ‹¬å·åºåˆ—æ•°é‡' : '// Application 1: Number of valid parentheses sequences'}
int validParentheses(int n) {
    return catalanDP(n);
}

${lang === 'zh' ? '// åº”ç”¨2ï¼šäºŒå‰æœç´¢æ ‘æ•°é‡' : '// Application 2: Number of binary search trees'}
int numBST(int n) {
    return catalanDP(n);
}

${lang === 'zh' ? '// åº”ç”¨3ï¼šå±±è„‰æ•°ç»„æ•°é‡' : '// Application 3: Number of mountain arrays'}
int mountainArrays(int n) {
    if (n % 2 == 0) return 0; ${lang === 'zh' ? '// å¶æ•°é•¿åº¦æ— æ³•å½¢æˆå±±è„‰' : '// Even length cannot form mountain'}
    return catalanDP(n / 2);
}

${lang === 'zh' ? '// åº”ç”¨4ï¼šå‡¸å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†æ•°' : '// Application 4: Triangulations of convex polygon'}
int triangulations(int n) {
    if (n < 3) return 0;
    return catalanDP(n - 2);
}

int main() {
    int n = 10;
    cout << "${lang === 'zh' ? 'Catalanæ•°ï¼š' : 'Catalan numbers:'}" << endl;
    for (int i = 0; i <= n; i++) {
        cout << "C(" << i << ") = " << catalanDP(i) << endl;
    }
    
    cout << "\\n${lang === 'zh' ? 'åº”ç”¨ç¤ºä¾‹ï¼š' : 'Applications:'}" << endl;
    cout << "${lang === 'zh' ? '5å¯¹æ‹¬å·çš„æœ‰æ•ˆåºåˆ—æ•°ï¼š' : 'Valid parentheses with 5 pairs:'} " << validParentheses(5) << endl;
    cout << "${lang === 'zh' ? '5ä¸ªèŠ‚ç‚¹çš„BSTæ•°é‡ï¼š' : 'BSTs with 5 nodes:'} " << numBST(5) << endl;
    cout << "${lang === 'zh' ? 'å…­è¾¹å½¢ä¸‰è§’å‰–åˆ†æ•°ï¼š' : 'Triangulations of hexagon:'} " << triangulations(6) << endl;
    
    return 0;
}`}
          language="cpp"
        />
      </div>

      <!-- Advanced Combinatorial Techniques -->
      <div class="topic-section">
        <h3>{lang === 'zh' ? '3. é«˜çº§ç»„åˆæŠ€å·§' : '3. Advanced Combinatorial Techniques'}</h3>
        
        <h4>{lang === 'zh' ? 'ç”Ÿæˆå‡½æ•°' : 'Generating Functions'}</h4>
        <p>
          {lang === 'zh' 
            ? 'ç”Ÿæˆå‡½æ•°æ˜¯ç»„åˆæ•°å­¦ä¸­çš„å¼ºå¤§å·¥å…·ï¼Œèƒ½å¤Ÿå°†ç»„åˆé—®é¢˜è½¬åŒ–ä¸ºä»£æ•°é—®é¢˜ã€‚'
            : 'Generating functions are powerful tools in combinatorics, transforming combinatorial problems into algebraic ones.'
          }
        </p>

        <CodeExample
          client:load
          code={`${lang === 'zh' ? '// ç”Ÿæˆå‡½æ•°åº”ç”¨ï¼šæ•´æ•°åˆ†æ‹†' : '// Generating Functions: Integer Partitions'}
#include <iostream>
#include <vector>
using namespace std;

${lang === 'zh' ? '// è®¡ç®—æ•´æ•°nçš„åˆ†æ‹†æ•°ï¼ˆä¸åŒé¡ºåºè§†ä¸ºåŒä¸€åˆ†æ‹†ï¼‰' : '// Calculate number of partitions of integer n (order does not matter)'}
int partitions(int n) {
    vector<int> dp(n + 1, 0);
    dp[0] = 1;
    
    ${lang === 'zh' ? '// å¯¹æ¯ä¸ªå¯èƒ½çš„éƒ¨åˆ†è¿›è¡Œå¤„ç†' : '// Process each possible part'}
    for (int part = 1; part <= n; part++) {
        for (int sum = part; sum <= n; sum++) {
            dp[sum] += dp[sum - part];
        }
    }
    
    return dp[n];
}

${lang === 'zh' ? '// è®¡ç®—æ•´æ•°nçš„ä¸åŒåˆ†æ‹†æ•°ï¼ˆæ‰€æœ‰éƒ¨åˆ†éƒ½ä¸åŒï¼‰' : '// Calculate distinct partitions of n (all parts different)'}
int distinctPartitions(int n) {
    vector<int> dp(n + 1, 0);
    dp[0] = 1;
    
    for (int part = 1; part <= n; part++) {
        for (int sum = n; sum >= part; sum--) {
            dp[sum] += dp[sum - part];
        }
    }
    
    return dp[n];
}

${lang === 'zh' ? '// äº”è¾¹å½¢æ•°å®šç†åº”ç”¨ï¼šå¿«é€Ÿè®¡ç®—åˆ†æ‹†æ•°' : '// Pentagonal Number Theorem: Fast partition calculation'}
vector<int> fastPartitions(int n) {
    vector<int> p(n + 1, 0);
    p[0] = 1;
    
    for (int i = 1; i <= n; i++) {
        for (int k = 1; ; k++) {
            ${lang === 'zh' ? '// äº”è¾¹å½¢æ•°ï¼šk(3k-1)/2' : '// Pentagonal numbers: k(3k-1)/2'}
            int pent1 = k * (3 * k - 1) / 2;
            int pent2 = k * (3 * k + 1) / 2;
            
            if (pent1 > i) break;
            
            ${lang === 'zh' ? '// åº”ç”¨é€’æ¨å…³ç³»' : '// Apply recurrence relation'}
            if (k % 2 == 1) {
                p[i] += p[i - pent1];
                if (pent2 <= i) p[i] += p[i - pent2];
            } else {
                p[i] -= p[i - pent1];
                if (pent2 <= i) p[i] -= p[i - pent2];
            }
        }
    }
    
    return p;
}

int main() {
    int n = 20;
    
    cout << "${lang === 'zh' ? 'æ•´æ•°åˆ†æ‹†ï¼š' : 'Integer partitions:'}" << endl;
    for (int i = 1; i <= 10; i++) {
        cout << "P(" << i << ") = " << partitions(i) << endl;
    }
    
    cout << "\\n${lang === 'zh' ? 'ä¸åŒåˆ†æ‹†ï¼š' : 'Distinct partitions:'}" << endl;
    for (int i = 1; i <= 10; i++) {
        cout << "Q(" << i << ") = " << distinctPartitions(i) << endl;
    }
    
    ${lang === 'zh' ? '// éªŒè¯äº”è¾¹å½¢æ•°å®šç†' : '// Verify pentagonal number theorem'}
    vector<int> fast = fastPartitions(n);
    cout << "\\n${lang === 'zh' ? 'å¿«é€Ÿç®—æ³•éªŒè¯ï¼šP(' : 'Fast algorithm verification: P('}" << n << ") = " << fast[n] << endl;
    cout << "${lang === 'zh' ? 'æ ‡å‡†ç®—æ³•ï¼šP(' : 'Standard algorithm: P('}" << n << ") = " << partitions(n) << endl;
    
    return 0;
}`}
          language="cpp"
        />

        <h4>{lang === 'zh' ? 'Burnsideå¼•ç†' : 'Burnside\'s Lemma'}</h4>
        <CodeExample
          client:load
          code={`${lang === 'zh' ? '// Burnsideå¼•ç†ï¼šè®¡ç®—åœ¨ç¾¤ä½œç”¨ä¸‹çš„ä¸åŒç€è‰²æ•°' : '// Burnside\'s Lemma: Count distinct colorings under group action'}
#include <iostream>
#include <vector>
#include <cmath>
using namespace std;

${lang === 'zh' ? '// è®¡ç®—æœ€å¤§å…¬çº¦æ•°' : '// Calculate GCD'}
int gcd(int a, int b) {
    return b == 0 ? a : gcd(b, a % b);
}

${lang === 'zh' ? '// è®¡ç®—åœ†å½¢é¡¹é“¾çš„ä¸åŒç€è‰²æ•°ï¼ˆå¯æ—‹è½¬å’Œç¿»è½¬ï¼‰' : '// Count distinct necklace colorings (rotations and reflections)'}
long long necklaceColorings(int n, int k) {
    if (n == 0) return 1;
    
    long long result = 0;
    
    ${lang === 'zh' ? '// æ—‹è½¬å¯¹ç§°ï¼šå¯¹æ¯ä¸ªå¯èƒ½çš„æ—‹è½¬è§’åº¦' : '// Rotational symmetry: for each possible rotation angle'}
    for (int i = 0; i < n; i++) {
        int cycles = gcd(n, i);
        result += (long long)pow(k, cycles);
    }
    
    ${lang === 'zh' ? '// ç¿»è½¬å¯¹ç§°' : '// Reflection symmetry'}
    if (n % 2 == 1) {
        ${lang === 'zh' ? '// å¥‡æ•°ï¼šnæ¡ç¿»è½¬è½´ï¼Œæ¯æ¡è½´å›ºå®š1ä¸ªç å­' : '// Odd: n reflection axes, each fixes 1 bead'}
        result += n * (long long)pow(k, (n + 1) / 2);
    } else {
        ${lang === 'zh' ? '// å¶æ•°ï¼šn/2æ¡ç©¿è¿‡é¡¶ç‚¹çš„è½´ + n/2æ¡ç©¿è¿‡è¾¹ä¸­ç‚¹çš„è½´' : '// Even: n/2 axes through vertices + n/2 axes through edge midpoints'}
        result += (n / 2) * (long long)pow(k, n / 2 + 1);
        result += (n / 2) * (long long)pow(k, n / 2);
    }
    
    ${lang === 'zh' ? '// åº”ç”¨Burnsideå¼•ç†ï¼šå¹³å‡ä¸åŠ¨ç‚¹æ•°' : '// Apply Burnside\'s lemma: average number of fixed points'}
    return result / (2 * n);
}

${lang === 'zh' ? '// è®¡ç®—æ­£æ–¹å½¢çš„ä¸åŒç€è‰²æ•°ï¼ˆ4ä¸ªé¡¶ç‚¹ï¼Œkç§é¢œè‰²ï¼‰' : '// Count distinct square colorings (4 vertices, k colors)'}
long long squareColorings(int k) {
    ${lang === 'zh' ? '// 8ä¸ªå¯¹ç§°æ“ä½œï¼šæ’ç­‰ã€3ä¸ªæ—‹è½¬ã€4ä¸ªç¿»è½¬' : '// 8 symmetry operations: identity, 3 rotations, 4 reflections'}
    long long result = 0;
    
    ${lang === 'zh' ? '// æ’ç­‰å˜æ¢ï¼šæ‰€æœ‰ç€è‰²éƒ½ä¸åŠ¨' : '// Identity: all colorings are fixed'}
    result += (long long)pow(k, 4);
    
    ${lang === 'zh' ? '// 90åº¦å’Œ270åº¦æ—‹è½¬ï¼š4ä¸ªé¡¶ç‚¹å¿…é¡»åŒè‰²' : '// 90Â° and 270Â° rotations: all 4 vertices same color'}
    result += 2 * k;
    
    ${lang === 'zh' ? '// 180åº¦æ—‹è½¬ï¼šå¯¹è§’é¡¶ç‚¹åŒè‰²' : '// 180Â° rotation: diagonal vertices same color'}
    result += (long long)k * k;
    
    ${lang === 'zh' ? '// 4ä¸ªç¿»è½¬ï¼šç›¸é‚»é¡¶ç‚¹æˆå¯¹åŒè‰²' : '// 4 reflections: adjacent vertices paired'}
    result += 4 * (long long)k * k;
    
    return result / 8;
}

int main() {
    cout << "${lang === 'zh' ? 'é¡¹é“¾ç€è‰²é—®é¢˜ï¼š' : 'Necklace coloring problems:'}" << endl;
    for (int n = 3; n <= 8; n++) {
        for (int k = 2; k <= 4; k++) {
            cout << "n=" << n << ", k=" << k << ": " 
                 << necklaceColorings(n, k) << " ${lang === 'zh' ? 'ç§ä¸åŒç€è‰²' : 'distinct colorings'}" << endl;
        }
    }
    
    cout << "\\n${lang === 'zh' ? 'æ­£æ–¹å½¢ç€è‰²ï¼š' : 'Square colorings:'}" << endl;
    for (int k = 2; k <= 5; k++) {
        cout << k << " ${lang === 'zh' ? 'ç§é¢œè‰²ï¼š' : 'colors:'} " 
             << squareColorings(k) << " ${lang === 'zh' ? 'ç§ä¸åŒç€è‰²' : 'distinct colorings'}" << endl;
    }
    
    return 0;
}`}
          language="cpp"
        />
      </div>
    </div>

    <!-- Tips Section -->
    <div class="tips-section">
      <h2>{lang === 'zh' ? 'è§£é¢˜æŠ€å·§' : 'Problem-Solving Tips'}</h2>
      <div class="tips-grid">
        <div class="tip-card">
          <h3>ğŸ¯ {lang === 'zh' ? 'é—®é¢˜è¯†åˆ«' : 'Problem Recognition'}</h3>
          <p>
            {lang === 'zh' 
              ? 'å­¦ä¼šè¯†åˆ«ä¸åŒç±»å‹çš„ç»„åˆé—®é¢˜ï¼šè®¡æ•°é—®é¢˜ç”¨å®¹æ–¥åŸç†ï¼Œé€’å½’ç»“æ„è€ƒè™‘å¡å¡”å…°æ•°ï¼Œå¯¹ç§°é—®é¢˜åº”ç”¨Burnsideå¼•ç†ã€‚'
              : 'Learn to recognize different combinatorial problems: use inclusion-exclusion for counting, consider Catalan numbers for recursive structures, apply Burnside\'s lemma for symmetry problems.'
            }
          </p>
        </div>
        
        <div class="tip-card">
          <h3>âš¡ {lang === 'zh' ? 'è®¡ç®—ä¼˜åŒ–' : 'Computational Optimization'}</h3>
          <p>
            {lang === 'zh' 
              ? 'å¤§æ•°è®¡ç®—æ—¶æ³¨æ„æº¢å‡ºï¼Œä½¿ç”¨æ¨¡è¿ç®—å’Œå¿«é€Ÿå¹‚ã€‚é¢„è®¡ç®—ç»„åˆæ•°å’Œé˜¶ä¹˜å¯ä»¥æ˜¾è‘—æé«˜æ•ˆç‡ã€‚'
              : 'Watch for overflow in large number calculations, use modular arithmetic and fast exponentiation. Precomputing combinations and factorials significantly improves efficiency.'
            }
          </p>
        </div>
        
        <div class="tip-card">
          <h3>ğŸ”„ {lang === 'zh' ? 'é€’æ¨å…³ç³»' : 'Recurrence Relations'}</h3>
          <p>
            {lang === 'zh' 
              ? 'è®¸å¤šç»„åˆé—®é¢˜éƒ½æœ‰ä¼˜ç¾çš„é€’æ¨å…³ç³»ã€‚å¯»æ‰¾çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¾€å¾€æ¯”ç›´æ¥è®¡ç®—æ›´é«˜æ•ˆã€‚'
              : 'Many combinatorial problems have elegant recurrence relations. Finding state transition equations is often more efficient than direct calculation.'
            }
          </p>
        </div>
        
        <div class="tip-card">
          <h3>ğŸ§® {lang === 'zh' ? 'æ•°å­¦æ´å¯Ÿ' : 'Mathematical Insights'}</h3>
          <p>
            {lang === 'zh' 
              ? 'æ·±å…¥ç†è§£ç»„åˆæ’ç­‰å¼å’Œç”Ÿæˆå‡½æ•°ï¼Œå®ƒä»¬æ˜¯è§£å†³å¤æ‚ç»„åˆé—®é¢˜çš„å¼ºå¤§å·¥å…·ã€‚'
              : 'Deeply understand combinatorial identities and generating functions - they are powerful tools for solving complex combinatorial problems.'
            }
          </p>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <div class="navigation">
      <a href={`/${lang}/6-world-class`} class="nav-button prev">
        â† {lang === 'zh' ? 'è¿”å›ä¸–ç•Œçº§ç®—æ³•' : 'Back to World Class'}
      </a>
      <a href={`/${lang}/6-world-class`} class="nav-button index">
        ğŸ“š {lang === 'zh' ? 'ç« èŠ‚ç›®å½•' : 'Chapter Index'}
      </a>
      <a href={`/${lang}/6-world-class/linear-algebra`} class="nav-button next">
        {lang === 'zh' ? 'çº¿æ€§ä»£æ•°' : 'Linear Algebra'} â†’
      </a>
    </div>
  </div>
</Layout>

<style>
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .breadcrumb {
    font-size: 0.9rem;
    color: #6b7280;
    margin-bottom: 2rem;
    padding: 1rem 0;
    border-bottom: 1px solid #e5e7eb;
  }

  .breadcrumb a {
    color: #4f46e5;
    text-decoration: none;
    transition: color 0.2s;
  }

  .breadcrumb a:hover {
    color: #3730a3;
    text-decoration: underline;
  }

  .header-section {
    text-align: center;
    margin-bottom: 3rem;
  }

  .main-title {
    font-size: 3.5rem;
    font-weight: 900;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, #dc2626 0%, #ea580c 25%, #d97706 50%, #ca8a04 75%, #65a30d 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.1;
  }

  .subtitle {
    font-size: 1.25rem;
    color: #6b7280;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }

  .overview-section {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 1px solid #f59e0b;
    border-radius: 16px;
    padding: 2.5rem;
    margin: 2rem 0 3rem 0;
    box-shadow: 0 4px 6px -1px rgba(245, 158, 11, 0.1);
  }

  .overview-section h2 {
    color: #92400e;
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .overview-section p {
    margin: 0;
    font-size: 1.1rem;
    line-height: 1.8;
    color: #78350f;
  }

  .content-section {
    margin: 4rem 0;
  }

  .content-section > h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 3rem;
    color: #1e293b;
    text-align: center;
    position: relative;
  }

  .content-section > h2::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 4px;
    background: linear-gradient(90deg, #dc2626, #ea580c, #d97706);
    border-radius: 2px;
  }

  .topic-section {
    margin: 3rem 0;
    padding: 2rem;
    background: #f8fafc;
    border-radius: 12px;
    border-left: 4px solid #dc2626;
  }

  .topic-section h3 {
    color: #dc2626;
    font-size: 1.75rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .topic-section h4 {
    color: #1e293b;
    font-size: 1.25rem;
    font-weight: 600;
    margin: 2rem 0 1rem 0;
  }

  .topic-section p {
    color: #4b5563;
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }

  .tips-section {
    margin: 4rem 0;
    padding: 2rem 0;
    border-top: 2px solid #e5e7eb;
  }

  .tips-section h2 {
    font-size: 2.25rem;
    font-weight: 700;
    margin-bottom: 2rem;
    color: #1e293b;
    text-align: center;
  }

  .tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .tip-card {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 1px solid #0ea5e9;
    border-radius: 12px;
    padding: 1.5rem;
    transition: transform 0.2s ease;
  }

  .tip-card:hover {
    transform: translateY(-2px);
  }

  .tip-card h3 {
    color: #0c4a6e;
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  .tip-card p {
    color: #075985;
    line-height: 1.6;
    margin: 0;
    font-size: 0.95rem;
  }

  .navigation {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 4rem 0 2rem 0;
    padding: 2rem 0;
    border-top: 2px solid #e5e7eb;
    gap: 1rem;
  }

  .nav-button {
    display: inline-flex;
    align-items: center;
    padding: 0.875rem 1.75rem;
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    color: white;
    text-decoration: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 14px 0 rgba(220, 38, 38, 0.39);
  }

  .nav-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px 0 rgba(220, 38, 38, 0.5);
  }

  .nav-button.index {
    background: linear-gradient(135deg, #059669, #0d9488);
    box-shadow: 0 4px 14px 0 rgba(5, 150, 105, 0.39);
  }

  .nav-button.index:hover {
    box-shadow: 0 8px 25px 0 rgba(5, 150, 105, 0.5);
  }

  @media (max-width: 768px) {
    .container {
      padding: 0 0.5rem;
    }

    .main-title {
      font-size: 2.5rem;
    }

    .subtitle {
      font-size: 1.1rem;
    }

    .overview-section {
      padding: 1.5rem;
      margin: 1.5rem 0 2rem 0;
    }

    .topic-section {
      padding: 1.5rem;
    }

    .tips-grid {
      grid-template-columns: 1fr;
    }

    .navigation {
      flex-direction: column;
      gap: 1rem;
    }

    .nav-button {
      width: 100%;
      justify-content: center;
    }
  }
</style> 